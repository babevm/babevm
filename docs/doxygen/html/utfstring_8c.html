<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Babe VM: src/c/utfstring.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Babe VM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('utfstring_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">utfstring.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="bvm_8h_source.html">../h/bvm.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5c738e5146647c6ce6c6848574f55d66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#a5c738e5146647c6ce6c6848574f55d66">bvm_str_replace_char</a> (char *name, int len, char oldchar, char newchar)</td></tr>
<tr class="separator:a5c738e5146647c6ce6c6848574f55d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66884089e659a5a5ee4df1fdb6fa514"><td class="memItemLeft" align="right" valign="top">bvm_uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#af66884089e659a5a5ee4df1fdb6fa514">bvm_str_utfstrchr</a> (<a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *utfstring, bvm_uint8_t ch)</td></tr>
<tr class="separator:af66884089e659a5a5ee4df1fdb6fa514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fa65e3dcc714e7a1498e47baae17754"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#a7fa65e3dcc714e7a1498e47baae17754">bvm_str_utfstringcmp</a> (<a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *str1, <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *str2)</td></tr>
<tr class="separator:a7fa65e3dcc714e7a1498e47baae17754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab283909f3b17465e71d680b76f288491"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#ab283909f3b17465e71d680b76f288491">bvm_str_new_utfstring</a> (size_t length, int alloc_type)</td></tr>
<tr class="separator:ab283909f3b17465e71d680b76f288491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a818a258eb01134c8cb3f46762597741d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#a818a258eb01134c8cb3f46762597741d">bvm_str_copy_utfstring</a> (<a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *utfstring, bvm_uint16_t offset, bvm_uint16_t length, bvm_uint16_t destoffset, <a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> is_static)</td></tr>
<tr class="separator:a818a258eb01134c8cb3f46762597741d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4640bcfe8bb8a4550a4433b81777f719"><td class="memItemLeft" align="right" valign="top">bvm_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#a4640bcfe8bb8a4550a4433b81777f719">bvm_str_utf8_length_from_unicode</a> (bvm_uint16_t *unicode, bvm_uint32_t offset, bvm_uint32_t length)</td></tr>
<tr class="separator:a4640bcfe8bb8a4550a4433b81777f719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8dc67e1512dd8fd941b98fe8183840"><td class="memItemLeft" align="right" valign="top">bvm_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#aed8dc67e1512dd8fd941b98fe8183840">bvm_str_unicode_length_from_utf8</a> (bvm_uint8_t *utf8, bvm_uint32_t offset, bvm_uint32_t len)</td></tr>
<tr class="separator:aed8dc67e1512dd8fd941b98fe8183840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90b7a69cead88c48118acd59336846d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#ad90b7a69cead88c48118acd59336846d">bvm_str_encode_unicode_to_utf8</a> (bvm_uint16_t *chars, bvm_uint32_t offset, bvm_uint32_t len, bvm_int8_t *buf)</td></tr>
<tr class="separator:ad90b7a69cead88c48118acd59336846d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296053da84c5a2c628eccb56c714b5e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#a296053da84c5a2c628eccb56c714b5e8">bvm_str_decode_utf8_to_unicode</a> (bvm_uint8_t *bytes, bvm_uint32_t offset, bvm_uint32_t len, bvm_uint16_t *chars)</td></tr>
<tr class="separator:a296053da84c5a2c628eccb56c714b5e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeab4b48b05d169100b5da5b6156f09c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#aeab4b48b05d169100b5da5b6156f09c3">bvm_str_wrap_utfstring</a> (char *data)</td></tr>
<tr class="separator:aeab4b48b05d169100b5da5b6156f09c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd249b1eb03caff8aa9e149cb8b4044c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#acd249b1eb03caff8aa9e149cb8b4044c">bvm_str_itoa</a> (bvm_int32_t value, char *str, int base)</td></tr>
<tr class="separator:acd249b1eb03caff8aa9e149cb8b4044c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0bbb55e7c69285bbf5bce32eb559ef0"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#ad0bbb55e7c69285bbf5bce32eb559ef0">bvm_str_utfstring_to_cstring</a> (<a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *utfstring)</td></tr>
<tr class="separator:ad0bbb55e7c69285bbf5bce32eb559ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d526853034475b16ffacf6727053bcb"><td class="memItemLeft" align="right" valign="top">bvm_int8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#a0d526853034475b16ffacf6727053bcb">bvm_str_unicode_to_chararray</a> (bvm_uint16_t *unicode, bvm_int32_t offset, bvm_int32_t len)</td></tr>
<tr class="separator:a0d526853034475b16ffacf6727053bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a1649036478251cd724a93df65bcc79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utfstring_8c.html#a5a1649036478251cd724a93df65bcc79">bvm_str_unicode_to_utfstring</a> (bvm_uint16_t *unicode, bvm_int32_t offset, bvm_int32_t len)</td></tr>
<tr class="separator:a5a1649036478251cd724a93df65bcc79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>UTFString handling functions</p>
<dl class="section author"><dt>Author</dt><dd>Greg McCreath </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.10 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a818a258eb01134c8cb3f46762597741d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a818a258eb01134c8cb3f46762597741d">&#9670;&nbsp;</a></span>bvm_str_copy_utfstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a>* bvm_str_copy_utfstring </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>utfstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>destoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a>&#160;</td>
          <td class="paramname"><em>is_static</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copies a utfstring. This routine allocates the new utfstring from the heap and copies contents of the given utfstring into it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">utfstring</td><td>the string to copy </td></tr>
    <tr><td class="paramname">offset</td><td>the offset into the source utfstring to start the copy </td></tr>
    <tr><td class="paramname">length</td><td>the size of the copy </td></tr>
    <tr><td class="paramname">destoffset</td><td>the offset into the new string to start copying characters </td></tr>
    <tr><td class="paramname">is_static</td><td>if BVM_TRUE, the new utfstring memory will be allocated as <a class="el" href="collector_8h.html#a18a8e77daa8a6efa343cf1ad8c49b696">BVM_ALLOC_TYPE_STATIC</a>, otherwise it will be <a class="el" href="collector_8h.html#a33c0097ded07710d1ea7f0e22e89af06">BVM_ALLOC_TYPE_DATA</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new utfstring </dd></dl>

</div>
</div>
<a id="a296053da84c5a2c628eccb56c714b5e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a296053da84c5a2c628eccb56c714b5e8">&#9670;&nbsp;</a></span>bvm_str_decode_utf8_to_unicode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bvm_str_decode_utf8_to_unicode </td>
          <td>(</td>
          <td class="paramtype">bvm_uint8_t *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t *&#160;</td>
          <td class="paramname"><em>chars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UTF8 encode the given bytes to unicode into the given char array. There must be enough space in the char array to accommodate the converted characters. The char array can be pre-sized using the return value from <a class="el" href="utfstring_8c.html#aed8dc67e1512dd8fd941b98fe8183840">bvm_str_unicode_length_from_utf8</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes</td><td>the utf bytes to encode </td></tr>
    <tr><td class="paramname">offset</td><td>the starting offset within the utf8 bytes </td></tr>
    <tr><td class="paramname">len</td><td>the length of utf8 bytes to process </td></tr>
    <tr><td class="paramname">chars</td><td>the unicode char array to populate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad90b7a69cead88c48118acd59336846d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad90b7a69cead88c48118acd59336846d">&#9670;&nbsp;</a></span>bvm_str_encode_unicode_to_utf8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bvm_str_encode_unicode_to_utf8 </td>
          <td>(</td>
          <td class="paramtype">bvm_uint16_t *&#160;</td>
          <td class="paramname"><em>chars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_int8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given an array of unicode chars, utf8 encode the char data into the given bvm_int8_t buffer. Note that <code>length</code> is the number of unicode characters to convert, not the number of utf characters to create.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chars</td><td>the uncode characters to decode to bytes </td></tr>
    <tr><td class="paramname">offset</td><td>the offset within the unicode chars to start at </td></tr>
    <tr><td class="paramname">len</td><td>the number of unicode chracters to convert </td></tr>
    <tr><td class="paramname">buf</td><td>the byte array to populate with utf8 data. Must be pre-sized. See <a class="el" href="utfstring_8c.html#a4640bcfe8bb8a4550a4433b81777f719">bvm_str_utf8_length_from_unicode</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acd249b1eb03caff8aa9e149cb8b4044c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd249b1eb03caff8aa9e149cb8b4044c">&#9670;&nbsp;</a></span>bvm_str_itoa()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bvm_str_itoa </td>
          <td>(</td>
          <td class="paramtype">bvm_int32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A re-implementation of <code>itoa</code>. <code>itoa</code> is not ANSI C, so we'll include our own here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>the integer value convert to a c string </td></tr>
    <tr><td class="paramname">str</td><td>pointer to char array to place result </td></tr>
    <tr><td class="paramname">base</td><td>the radix </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab283909f3b17465e71d680b76f288491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab283909f3b17465e71d680b76f288491">&#9670;&nbsp;</a></span>bvm_str_new_utfstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a>* bvm_str_new_utfstring </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>alloc_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new utfstring of a given length allocated from the heap using the given allocation type. Only a single heap allocation is performed to create both the string and its (empty) data. The string's data pointer actually points into this single allocation. When freeing strings created with this function, only the string needs to be freed - its data does not have to be freed separately.</p>
<p>The string's char data is not zeroed (it may contain garbage), but it is actually one longer than the specified length and this extra char is a <code>NULL</code> to make the char data null-terminated.</p>
<p>A terminated null is placed in the last (extra) char of the string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">length</td><td>the length of the char data of the new string - the actual length will be one greater than this to allow for a null-terminator.</td></tr>
    <tr><td class="paramname">alloc_type</td><td>the allocation type to use when getting heap memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new bvm_utfstring_t pointer. </dd></dl>

</div>
</div>
<a id="a5c738e5146647c6ce6c6848574f55d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c738e5146647c6ce6c6848574f55d66">&#9670;&nbsp;</a></span>bvm_str_replace_char()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bvm_str_replace_char </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>oldchar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>newchar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replace a given char in a c string with another char.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the chars to search in </td></tr>
    <tr><td class="paramname">len</td><td>the length to scan </td></tr>
    <tr><td class="paramname">oldchar</td><td>the old char to replace </td></tr>
    <tr><td class="paramname">newchar</td><td>the new char to replace with </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aed8dc67e1512dd8fd941b98fe8183840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed8dc67e1512dd8fd941b98fe8183840">&#9670;&nbsp;</a></span>bvm_str_unicode_length_from_utf8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_uint32_t bvm_str_unicode_length_from_utf8 </td>
          <td>(</td>
          <td class="paramtype">bvm_uint8_t *&#160;</td>
          <td class="paramname"><em>utf8</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scan a utf8 string and count the number of unicode characters in it. If a non-utf8 encoded byte is encountered, the length is truncated at the point of the bad char.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">utf8</td><td></td></tr>
    <tr><td class="paramname">offset</td><td></td></tr>
    <tr><td class="paramname">len</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a0d526853034475b16ffacf6727053bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d526853034475b16ffacf6727053bcb">&#9670;&nbsp;</a></span>bvm_str_unicode_to_chararray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_int8_t* bvm_str_unicode_to_chararray </td>
          <td>(</td>
          <td class="paramtype">bvm_uint16_t *&#160;</td>
          <td class="paramname"><em>unicode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_int32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_int32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a null-terminated char array of unicode characters from an unicode array.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unicode</td><td></td></tr>
    <tr><td class="paramname">offset</td><td></td></tr>
    <tr><td class="paramname">len</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a5a1649036478251cd724a93df65bcc79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a1649036478251cd724a93df65bcc79">&#9670;&nbsp;</a></span>bvm_str_unicode_to_utfstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a>* bvm_str_unicode_to_utfstring </td>
          <td>(</td>
          <td class="paramtype">bvm_uint16_t *&#160;</td>
          <td class="paramname"><em>unicode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_int32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_int32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a unicode array range, return a utfstring that contains the UTF-8 encoded chars. The utfstring is allocated from the heap. Note the the utf_string is a single memory allocation and includes the data. The user of this function must manage the utfstring string - but to free it, only a single <a class="el" href="heap_8h.html#a01af772fb247fd5ab4e6bf8ebfcd5e8d">bvm_heap_free</a> call is required.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unicode</td><td>unicode chars to convert </td></tr>
    <tr><td class="paramname">offset</td><td>the offset into the given unicode chars to start the conversion. </td></tr>
    <tr><td class="paramname">len</td><td>the number of unicode characters to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a4640bcfe8bb8a4550a4433b81777f719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4640bcfe8bb8a4550a4433b81777f719">&#9670;&nbsp;</a></span>bvm_str_utf8_length_from_unicode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_uint32_t bvm_str_utf8_length_from_unicode </td>
          <td>(</td>
          <td class="paramtype">bvm_uint16_t *&#160;</td>
          <td class="paramname"><em>unicode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of utf8 characters that would be needed to encode a unicode string as a utf8 string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unicode</td><td>pointer to array of unicode chars </td></tr>
    <tr><td class="paramname">offset</td><td>the start within the unicode chars to being counting </td></tr>
    <tr><td class="paramname">length</td><td>the number of unicode char to count </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes required to hold the unicode characters if they where converted </dd></dl>

</div>
</div>
<a id="af66884089e659a5a5ee4df1fdb6fa514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af66884089e659a5a5ee4df1fdb6fa514">&#9670;&nbsp;</a></span>bvm_str_utfstrchr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_uint8_t* bvm_str_utfstrchr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>utfstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint8_t&#160;</td>
          <td class="paramname"><em>ch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Utfstring equivalent for 'strchr'. Searches a utfstring left to right looking for a given byte.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">utfstring</td><td>- the bvm_utfstring_t to scan </td></tr>
    <tr><td class="paramname">ch</td><td>- a byte to scan for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the first occurrence of the byte within the utfstring or <code>NULL</code> if the byte is not found. </dd></dl>

</div>
</div>
<a id="ad0bbb55e7c69285bbf5bce32eb559ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0bbb55e7c69285bbf5bce32eb559ef0">&#9670;&nbsp;</a></span>bvm_str_utfstring_to_cstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* bvm_str_utfstring_to_cstring </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>utfstring</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy the char contents of a utf string to a null-terminated char array. This function allocates from the heap - it is the responsibility of the caller to manage that memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">utfstring</td><td>the string to convert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a ne char array allocated from the heap that has a copy of the char from the given utfstring. </dd></dl>

</div>
</div>
<a id="a7fa65e3dcc714e7a1498e47baae17754"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fa65e3dcc714e7a1498e47baae17754">&#9670;&nbsp;</a></span>bvm_str_utfstringcmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_str_utfstringcmp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>str1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>str2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compare two utfstrings for equality on a length and byte-for-byte level.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str1</td><td>the first utfstring to compare </td></tr>
    <tr><td class="paramname">str2</td><td>the second utfstring to compare</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the same return values as for ANSI C <code>memcmp</code>. </dd></dl>

</div>
</div>
<a id="aeab4b48b05d169100b5da5b6156f09c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeab4b48b05d169100b5da5b6156f09c3">&#9670;&nbsp;</a></span>bvm_str_wrap_utfstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> bvm_str_wrap_utfstring </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a char buffer, wrap it in an <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> and return it. No heap allocation takes place - the string is on the stack and does not need to be freed.</p>
<p>The char data must be null-terminated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the data to wrap </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> that points at the given char data. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3b19ecf29356981f494745fbef7e56bf.html">c</a></li><li class="navelem"><a class="el" href="utfstring_8c.html">utfstring.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
