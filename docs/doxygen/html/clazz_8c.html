<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Babe VM: src/c/clazz.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Babe VM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('clazz_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">clazz.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="bvm_8h_source.html">../h/bvm.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__clazzfilebufferstruct.html">_clazzfilebufferstruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aea164aff82fdac6da82056cc98fddc44"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__clazzfilebufferstruct.html">_clazzfilebufferstruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#aea164aff82fdac6da82056cc98fddc44">classfilebuffer_t</a></td></tr>
<tr class="separator:aea164aff82fdac6da82056cc98fddc44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a93d338bdb7a9d20f9a47909d37d8491e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clazz_8h.html#a916cdf2e87116c9383de885eaf0cb3ac">bvm_method_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a93d338bdb7a9d20f9a47909d37d8491e">bvm_clazz_method_get</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *name, <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *jni_signature, int mode)</td></tr>
<tr class="separator:a93d338bdb7a9d20f9a47909d37d8491e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21020624b460266e2102bf6f6280db9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a21020624b460266e2102bf6f6280db9b">bvm_clazz_cp_utfstring_from_index</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, bvm_uint16_t index)</td></tr>
<tr class="separator:a21020624b460266e2102bf6f6280db9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaab9dce7aae6e05520e6b88ca320b5f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#aaab9dce7aae6e05520e6b88ca320b5f7">bvm_clazz_cp_ref_clazzname</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, bvm_uint16_t index)</td></tr>
<tr class="separator:aaab9dce7aae6e05520e6b88ca320b5f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91be43b30b87ae6afc999a6b89c55b24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a91be43b30b87ae6afc999a6b89c55b24">bvm_clazz_cp_ref_name</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, bvm_uint16_t index)</td></tr>
<tr class="separator:a91be43b30b87ae6afc999a6b89c55b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5589b52ed0fa686b5267edab759b73b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#ac5589b52ed0fa686b5267edab759b73b">bvm_clazz_cp_ref_sig</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, bvm_uint16_t index)</td></tr>
<tr class="separator:ac5589b52ed0fa686b5267edab759b73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6304970e5732b6105822856f70882d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clazz_8h.html#a1093dc79e1f7673de5ddbbc8783da670">bvm_field_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#aca6304970e5732b6105822856f70882d">bvm_clazz_field_get</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *name, <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *jni_signature)</td></tr>
<tr class="separator:aca6304970e5732b6105822856f70882d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a31a391af47be4856d54bf02106c7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clazz_8h.html#a916cdf2e87116c9383de885eaf0cb3ac">bvm_method_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#aa9a31a391af47be4856d54bf02106c7e">bvm_clazz_resolve_cp_method</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, bvm_uint16_t index)</td></tr>
<tr class="separator:aa9a31a391af47be4856d54bf02106c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6ba47aadb1cc5e2bcabbd7c24e4f6aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clazz_8h.html#a1093dc79e1f7673de5ddbbc8783da670">bvm_field_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#aa6ba47aadb1cc5e2bcabbd7c24e4f6aa">bvm_clazz_resolve_cp_field</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, bvm_uint16_t index, <a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> is_static)</td></tr>
<tr class="separator:aa6ba47aadb1cc5e2bcabbd7c24e4f6aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe17ea105e95ace4d962086dcdc5262c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#afe17ea105e95ace4d962086dcdc5262c">bvm_clazz_resolve_cp_clazz</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, bvm_uint16_t index)</td></tr>
<tr class="separator:afe17ea105e95ace4d962086dcdc5262c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5623eb33da65e1706899a79faa0d07c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clazz_8h.html#a08a17e710757b662e4dc45b0075bf50d">bvm_jtype_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#ae5623eb33da65e1706899a79faa0d07c">bvm_clazz_get_array_type</a> (char c)</td></tr>
<tr class="separator:ae5623eb33da65e1706899a79faa0d07c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0cb108353dc10114a625a5a5ec2da87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#ae0cb108353dc10114a625a5a5ec2da87">clazz_get_package</a> (<a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *clazzname)</td></tr>
<tr class="separator:ae0cb108353dc10114a625a5a5ec2da87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df34767d8217a044700fc263c4c97c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clazz_8h.html#aa765136ee279c1ad311f44faec1a692e">bvm_primitive_clazz_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a0df34767d8217a044700fc263c4c97c6">clazz_load_primitive_clazz</a> (<a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *clazzname)</td></tr>
<tr class="separator:a0df34767d8217a044700fc263c4c97c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeec4245f643e2ad8eedb421f09888d7"><td class="memItemLeft" align="right" valign="top">bvm_int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#afeec4245f643e2ad8eedb421f09888d7">bvm_clazz_get_source_line</a> (<a class="el" href="clazz_8h.html#a916cdf2e87116c9383de885eaf0cb3ac">bvm_method_t</a> *method, bvm_uint8_t *pc)</td></tr>
<tr class="separator:afeec4245f643e2ad8eedb421f09888d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa218238eef4774363281ec1b444de4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a6fa218238eef4774363281ec1b444de4">bvm_clazz_implements_interface</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, <a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *interface)</td></tr>
<tr class="separator:a6fa218238eef4774363281ec1b444de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a402cf7423bf76f32dd140422d7601151"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a402cf7423bf76f32dd140422d7601151">bvm_clazz_is_instanceof</a> (<a class="el" href="clazz_8h.html#a39dbc39868649a19e787acfc19537cdc">bvm_obj_t</a> *obj, <a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *clazz)</td></tr>
<tr class="separator:a402cf7423bf76f32dd140422d7601151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e97498ad3368a3f80854fe430d0db17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a8e97498ad3368a3f80854fe430d0db17">bvm_clazz_is_assignable_from</a> (<a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *from_clazz, <a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *to_clazz)</td></tr>
<tr class="separator:a8e97498ad3368a3f80854fe430d0db17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7660806d464b9586eacc5a4f6f0c85d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#af7660806d464b9586eacc5a4f6f0c85d">bvm_clazz_initialise0</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz, <a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> *frame_pushed)</td></tr>
<tr class="separator:af7660806d464b9586eacc5a4f6f0c85d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f340fe46a050503b4638eb6ae90c6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a65f340fe46a050503b4638eb6ae90c6c">bvm_clazz_initialise</a> (<a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *clazz)</td></tr>
<tr class="separator:a65f340fe46a050503b4638eb6ae90c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54702ead577340081ef3b00c59a4d66c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a54702ead577340081ef3b00c59a4d66c">bvm_clazz_is_subclass_of</a> (<a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *sub_clazz, <a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *super_clazz)</td></tr>
<tr class="separator:a54702ead577340081ef3b00c59a4d66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa58d4dacd2f804f992ef0b17a64bf537"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#aa58d4dacd2f804f992ef0b17a64bf537">bvm_clazz_is_class_accessible</a> (<a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *from_clazz, <a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *to_clazz)</td></tr>
<tr class="separator:aa58d4dacd2f804f992ef0b17a64bf537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab671e44ab5730fd4d71de1779181048b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#ab671e44ab5730fd4d71de1779181048b">bvm_clazz_is_member_accessible</a> (bvm_uint16_t access_flags, <a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *from_clazz, <a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *defining_clazz)</td></tr>
<tr class="separator:ab671e44ab5730fd4d71de1779181048b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada259f07c8b92fef76cfea6bb3928f06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#ada259f07c8b92fef76cfea6bb3928f06">bvm_clazz_get</a> (<a class="el" href="clazz_8h.html#a6e1c3e6da9884ea7dc5afc8957c4a820">bvm_classloader_obj_t</a> *classloader_obj, <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *clazzname)</td></tr>
<tr class="separator:ada259f07c8b92fef76cfea6bb3928f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b264e5c1f4275c8e24354ff68733ac1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a2b264e5c1f4275c8e24354ff68733ac1">bvm_clazz_get_by_reflection</a> (<a class="el" href="clazz_8h.html#a6e1c3e6da9884ea7dc5afc8957c4a820">bvm_classloader_obj_t</a> *classloader_obj, <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *clazzname)</td></tr>
<tr class="separator:a2b264e5c1f4275c8e24354ff68733ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91596b5ef89b89070223865995716fc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="clazz_8c.html#a91596b5ef89b89070223865995716fc6">bvm_clazz_get_c</a> (<a class="el" href="clazz_8h.html#a6e1c3e6da9884ea7dc5afc8957c4a820">bvm_classloader_obj_t</a> *classloader_obj, const char *clazzname)</td></tr>
<tr class="separator:a91596b5ef89b89070223865995716fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Clazz loading and functions.</p>
<h1><a class="anchor" id="clazz-overview"></a>
Overview</h1>
<p>This unit contains the functions and facilities to load Java class files and internalise them for VM use. It also contains utility functions for method/field/class constant resolution among other things.</p>
<p>More detailed description of how functionality is performed is contained in the function comments in this unit. This description will serve to provide an overview and some of the reasoning behind the way things are.</p>
<h1><a class="anchor" id="clazz-cvc"></a>
Class vz clazz</h1>
<p>Java deals with the notion of a 'class'. The internal structure for a loaded java class is a <a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> struct. Yes, there is a clazz for the java Class also ... it is just another class. The outcome of loading a java class into the VM is a populated <a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> structure living happily in a pool known as the the clazz pool. So when you see the word 'class' it should be referring to the notion of a java class - when you see 'clazz' it is referring to the internal representation of a java class.</p>
<h1><a class="anchor" id="clazz-loading"></a>
Class loading overview</h1>
<p>Classes are loaded by scanning the classpath of the classloader of the class that is trying to use the class. Classes are thus namespaced by the classloader that loaded them. This VM does not distinguish between an initiating class loader and the classloader that actually loaded it. The classloader that loads it is its classloader.</p>
<p>Classes are only loaded once. As part of the loading process they are broken into more efficient structures and internalised for VM use.</p>
<p>The 'bootstrap' classloader classpath is specified on the command line or in the <a class="el" href="vm_8h.html#a7b0bd16cf6df0d65fcb114a4c3db0ede">bvm_gl_boot_classpath</a> global variable when the VM is initialised. After VM init any changes made to the <a class="el" href="vm_8h.html#a7b0bd16cf6df0d65fcb114a4c3db0ede">bvm_gl_boot_classpath</a> are ignored.</p>
<p>VM init creates the 'user' classloader and gives it the classpath held in the <a class="el" href="vm_8h.html#af9a14dbea4c7a2ee9b78c6647cfac128">bvm_gl_user_classpath</a> global variable. This can also be passed in on the command line. Also, after VM init, any change made to this variable is ignored.</p>
<p>The VM init takes both the boot and user classpaths and breaks them into arrays of their respective component paths. It is possible to have multiple paths in a classpath.</p>
<p>Java level classloaders have an array of String objects into which the parsed classpath segments go. That array is scanned during class loading to try and find the to-be-loaded class.</p>
<p>Like Java SE, all classloaders except the bootstrap classloader have a parent classloader. Any class that has <code>NULL</code> as its classloader will have been loaded by the boostrap classloader.</p>
<p>Unlike the JRE, the java level classloaders do not perform all the IO necessary to load a class's bytes and then call defineClass(). Here, all this stuff happens at the VM level. Actually, roughly the same thing happens but it is implemented in C. The Java SE uses a delegation model where a classloader always delegates the class loading request to its parent - to give the parent a try first. This has the effect of passing a class loading request all the way up the classloader parentage to the bootstrap classloader and then passing attempts to load it back down as each parent fails to load it. When a classloader actually can load the class - cool, we have it, the search stops, and this classloader become the classloader of the newly loaded class.</p>
<p>This VM does the same (but it is done in C). If a class A uses a class B and B is not yet loaded, A's classloader will attempt to load the B class. The first thing it does it pass the request to A's parent classloader, and on it goes. This means that if B is a core runtime class, the bootstrap loader gets it first.</p>
<p>The VM classloading protects against a user-level classloader redefining a system class to try to fool things. All classes that begin with java/ and babe/ are loaded by the bootstrap loader only. No questions.</p>
<p>The end result of a successful search for a class file is a temporary in-memory buffer holding the entire class file - ready for 'parsing' into an internal representation.</p>
<h2><a class="anchor" id="clazz-buffer"></a>
Why only load from buffers?</h2>
<p>This VM loads java class files only one way - using an in-memory buffer (<a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a>). The in-memory buffer is populated from one of two sources - either it is read from a platform file or read from an entry in a jar file.</p>
<p>Why? Speed. Loading a file or a jar entry can often be loaded into memory in a single io read. Often they are not big. When it is in memory we know we can whip through it at a fast rate and then discard the buffer afterwards. There is no fundamental getc() being executed for every byte read. In some tests run the total bytes loaded for the (rather simple) test was about 17500 bytes. Using a stream approach would mean 17500 function getc() calls to fetch each byte from the stream. That is a lot. Using a specific buffered approach those 17500 function calls are not necessary. Actually, about 4000 are used instead but operate at a higher level like read_integer() or read_utfstring().</p>
<p>So, deep in the class loading functionality a basic fork is made to determine whether to buffer the class file from a jar, or from the native file system.</p>
<p>When loaded, the buffer is handed to the class loading process for parsing and internalisation.</p>
<h1><a class="anchor" id="clazz-jcload"></a>
Java level class loading</h1>
<p>The Java SE basically uses Java to do all its class loading. The Java URLClassLoader class actually loads the bytes and passes those onto the VM. This is not so easy in this VM. Because VMs like Open JDK and others use native threads it is possible for the VM to make methods calls to java class methods and block until the method finishes and proves a return value. Unfortunately, this is not possible on a system that simulates threads. There is no way for this VM to call a java method and then block until it finishes. So, the VM cannot call a java method to load a class's bytes. Taking into account that for such a small VM there exist no real requirement to be able to load classes in any other way apart via file or jar I reckon we're okay.</p>
<p>If you have a look at the ClassLoader class in the Babe runtime classes you see that it defines no methods for actually loading a class. It serves a number of purposes however:</p>
<ul>
<li>It serves as a namespace for class loading, so that two classloaders can load the same named file and they will be different classes to the VM. </li>
<li>It holds an array of the classpath entries to search on - this, of course, may include jar files. </li>
<li>It holds an array of all the Class objects for classes it has loaded. Having a reference to a Class object stops a loaded class from being unloaded and GC'd. According to the Java spec, a class may only be unloaded when no references are held to its classloader. So, if the classloader holds a reference to a class, the class will not be unloaded unless the classloader is unloaded.</li>
</ul>
<h1><a class="anchor" id="clazz-types"></a>
Array, Primitive and Instance Classes</h1>
<p>Like the Java SE, this VM automatically creates class/clazz stuff for arrays and primitive types. Refer the JVM spec on array and primitive classes. If a class is not an array or primitive class it will be an instance class. Instance classes are created from java class files - the others are created internally.</p>
<p>All primitive type classes belong to the bootstrap classloader. All arrays classes belong to the classloader of their component type.</p>
<h1><a class="anchor" id="clazz-clinit"></a>
Class Initialisation (&lt;clinit&gt; processing)</h1>
<p>All classes go though a lifecycle when being loaded. The JVMS is very detailed in exactly how a class is to be initialised. Unlike many VMs, this one relies on the Class class to perform most of the initialisation. That process is well documented in the Class.java file. I have a feeling most VMs will make native -&gt; java calls to perform class init, but strangely, things are made easier by the fact that this one doesn't.</p>
<p>Primitive and array classes are created fully initialised. Instances class must undergo initialisation only if they have a &lt;clinit&gt; method. Before a class is initialised, all its parents must first be initialised.</p>
<h1><a class="anchor" id="clazz-detailed"></a>
Some notes about internal instance clazzes and structures.</h1>
<p>The end result of parsing and loading a java class file is a series of related structures representing parts of the class file. The thing that hangs it all together is the <a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> structure. Every loaded class in the VM has one of these - even primitive and array classes.</p>
<p>The <code>bvm_clazz_t</code> structure for an instance class is an <a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a>. This structure has all the common stuff for a clazz but defines extra things for dealing with fields and methods and implemented interfaces and so on. So in that sense, it really has the guts of it all.</p>
<p>Each of the structures that the <code>bvm_clazz_t</code> references has been carefully design to be a good balance between space and speed.</p>
<dl class="section author"><dt>Author</dt><dd>Greg McCreath </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.10 </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="aea164aff82fdac6da82056cc98fddc44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea164aff82fdac6da82056cc98fddc44">&#9670;&nbsp;</a></span>classfilebuffer_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__clazzfilebufferstruct.html">_clazzfilebufferstruct</a> <a class="el" href="clazz_8c.html#aea164aff82fdac6da82056cc98fddc44">classfilebuffer_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer used during class loading that is associated to a <a class="el" href="clazz_8h.html#a6e1c3e6da9884ea7dc5afc8957c4a820">bvm_classloader_obj_t</a>. The act of loading a class may have to search through a class loader hierarchy. When one is found its classloader and its bytes are stored into one of these structures ready for class loading. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aaab9dce7aae6e05520e6b88ca320b5f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaab9dce7aae6e05520e6b88ca320b5f7">&#9670;&nbsp;</a></span>bvm_clazz_cp_ref_clazzname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a>* bvm_clazz_cp_ref_clazzname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the class index from a field ref_value at the given index, and from there get the name index of the class and from there the actual class name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the clazz </td></tr>
    <tr><td class="paramname">index</td><td>the index of the class constant</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the class name as a pointer to a utfstring in the utfstring pool. </dd></dl>

</div>
</div>
<a id="a91be43b30b87ae6afc999a6b89c55b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91be43b30b87ae6afc999a6b89c55b24">&#9670;&nbsp;</a></span>bvm_clazz_cp_ref_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a>* bvm_clazz_cp_ref_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the field/method name from a field/method index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the clazz </td></tr>
    <tr><td class="paramname">index</td><td>the index of the ref's name and type constant</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the ref's name as a pointer to a utfstring in the utfstring pool. </dd></dl>

</div>
</div>
<a id="ac5589b52ed0fa686b5267edab759b73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5589b52ed0fa686b5267edab759b73b">&#9670;&nbsp;</a></span>bvm_clazz_cp_ref_sig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a>* bvm_clazz_cp_ref_sig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the constant pool field/method desc from a field/method index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the clazz </td></tr>
    <tr><td class="paramname">index</td><td>the index of the ref's name and type constant</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the ref's desc as a pointer to a utfstring in the utfstring pool. </dd></dl>

</div>
</div>
<a id="a21020624b460266e2102bf6f6280db9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21020624b460266e2102bf6f6280db9b">&#9670;&nbsp;</a></span>bvm_clazz_cp_utfstring_from_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a>* bvm_clazz_cp_utfstring_from_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a handle to a constant <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> given a class and index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the clazz </td></tr>
    <tr><td class="paramname">index</td><td>the index into the constant pool of the utfstring.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a utfstring held in the utfstring pool. </dd></dl>

</div>
</div>
<a id="aca6304970e5732b6105822856f70882d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca6304970e5732b6105822856f70882d">&#9670;&nbsp;</a></span>bvm_clazz_field_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clazz_8h.html#a1093dc79e1f7673de5ddbbc8783da670">bvm_field_t</a>* bvm_clazz_field_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>jni_signature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For a given class, find a field with the given name and desc. The <code>name</code> and <code>desc</code> utfstring pointers are to be pointers to utfstrings that exist in the utfstring constant pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the clazz </td></tr>
    <tr><td class="paramname">name</td><td>the name of the field to search for </td></tr>
    <tr><td class="paramname">jni_signature</td><td>the jni description of the field to search for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the a pointer to a bvm_field_t for the requested field if it exists, or <code>NULL</code> otherwise. </dd></dl>

</div>
</div>
<a id="ada259f07c8b92fef76cfea6bb3928f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada259f07c8b92fef76cfea6bb3928f06">&#9670;&nbsp;</a></span>bvm_clazz_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a>* bvm_clazz_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a6e1c3e6da9884ea7dc5afc8957c4a820">bvm_classloader_obj_t</a> *&#160;</td>
          <td class="paramname"><em>classloader_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>clazzname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the class of the given name non-reflectively.</p>
<dl class="section return"><dt>Returns</dt><dd>the loaded class - note this function will not return if the class cannot be loaded. An exception will have been thrown. </dd></dl>

</div>
</div>
<a id="ae5623eb33da65e1706899a79faa0d07c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5623eb33da65e1706899a79faa0d07c">&#9670;&nbsp;</a></span>bvm_clazz_get_array_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clazz_8h.html#a08a17e710757b662e4dc45b0075bf50d">bvm_jtype_t</a> bvm_clazz_get_array_type </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine the type of an array from the char type representation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>the array type as a char</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the type of the array </dd></dl>

</div>
</div>
<a id="a2b264e5c1f4275c8e24354ff68733ac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b264e5c1f4275c8e24354ff68733ac1">&#9670;&nbsp;</a></span>bvm_clazz_get_by_reflection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a>* bvm_clazz_get_by_reflection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a6e1c3e6da9884ea7dc5afc8957c4a820">bvm_classloader_obj_t</a> *&#160;</td>
          <td class="paramname"><em>classloader_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>clazzname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the class of the given name reflectively.</p>
<dl class="section return"><dt>Returns</dt><dd>the loaded class - note this function will not return if the class cannot be loaded. An exception will have been thrown. </dd></dl>

</div>
</div>
<a id="a91596b5ef89b89070223865995716fc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91596b5ef89b89070223865995716fc6">&#9670;&nbsp;</a></span>bvm_clazz_get_c()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a>* bvm_clazz_get_c </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a6e1c3e6da9884ea7dc5afc8957c4a820">bvm_classloader_obj_t</a> *&#160;</td>
          <td class="paramname"><em>classloader_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clazzname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a char* class name, go get it non-reflectively. </p>

</div>
</div>
<a id="afeec4245f643e2ad8eedb421f09888d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeec4245f643e2ad8eedb421f09888d7">&#9670;&nbsp;</a></span>bvm_clazz_get_source_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_int32_t bvm_clazz_get_source_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a916cdf2e87116c9383de885eaf0cb3ac">bvm_method_t</a> *&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint8_t *&#160;</td>
          <td class="paramname"><em>pc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For a PC for a given method, find the source file line number if it is available. If source line numbers are not enabled, or are not contained in the class file this will return -1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>the method </td></tr>
    <tr><td class="paramname">pc</td><td>the bytecode pointer within the given method to get the line of</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the line number if there is one, or -1 if there is no lines in the source or no line for the given pc. </dd></dl>

</div>
</div>
<a id="a6fa218238eef4774363281ec1b444de4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fa218238eef4774363281ec1b444de4">&#9670;&nbsp;</a></span>bvm_clazz_implements_interface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> bvm_clazz_implements_interface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>interface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reports if a given class implements a given interface. This include all superclasses and superinterfaces.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the class to test </td></tr>
    <tr><td class="paramname">interface</td><td>the interface to test for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>BVM_TRUE</code> if the given class implements the given interface, <code>BVM_FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a id="a65f340fe46a050503b4638eb6ae90c6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f340fe46a050503b4638eb6ae90c6c">&#9670;&nbsp;</a></span>bvm_clazz_initialise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> bvm_clazz_initialise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise a clazz according to JVMS section 5.5. Classes that do not have a &lt;clinit&gt; method are treated simply. Classes that do have a &lt;clinit&gt; method have the Class.__doinit() method called on their Class object - this means a new frame to execute this is pushed into the stack.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the class to initialise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>BVM_TRUE</code> if class initialisation caused any frames to be pushed onto the stack, <code>BVM_FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a id="af7660806d464b9586eacc5a4f6f0c85d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7660806d464b9586eacc5a4f6f0c85d">&#9670;&nbsp;</a></span>bvm_clazz_initialise0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bvm_clazz_initialise0 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> *&#160;</td>
          <td class="paramname"><em>frame_pushed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Internal class initialisation logic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the class to initialise. </td></tr>
    <tr><td class="paramname">frame_pushed</td><td>the address of a boolean. Will be set to <code>BVM_TRUE</code> if clazz initialisation caused any framed to be pushed onto the stack. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8e97498ad3368a3f80854fe430d0db17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e97498ad3368a3f80854fe430d0db17">&#9670;&nbsp;</a></span>bvm_clazz_is_assignable_from()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> bvm_clazz_is_assignable_from </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>from_clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>to_clazz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reports if one class is assignment-compatible with another. The parameters are 'from' and 'to' classes. These represent the R-value and L-value of an expression respectively.</p>
<p>This method is complex. It is an implementation of the rules describes in the JVMS Section 2.6.7 Assignment Conversion. Interested developers should read that section over very slowly while inspecting this function - it covers all Java class assignment compatibility scenarios.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from_clazz</td><td>the R-value class </td></tr>
    <tr><td class="paramname">to_clazz</td><td>the L-value class</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>BVM_TRUE</code> if things from the from class is assignment compatible with the to class, <code>BVM_FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a id="aa58d4dacd2f804f992ef0b17a64bf537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa58d4dacd2f804f992ef0b17a64bf537">&#9670;&nbsp;</a></span>bvm_clazz_is_class_accessible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> bvm_clazz_is_class_accessible </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>from_clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>to_clazz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The reports whether one class is accessible from another. The 'from' class is trying to access something in the 'to' class. JVMS 5.5 Access Control.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from_clazz</td><td>the class trying access something in the <code>to_clazz</code>. </td></tr>
    <tr><td class="paramname">to_clazz</td><td>the class being accessed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>BVM_TRUE</code> if access if permitted, <code>BVM_FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a id="a402cf7423bf76f32dd140422d7601151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a402cf7423bf76f32dd140422d7601151">&#9670;&nbsp;</a></span>bvm_clazz_is_instanceof()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> bvm_clazz_is_instanceof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a39dbc39868649a19e787acfc19537cdc">bvm_obj_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reports if a object is an instance of a given class or interface.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the object to test </td></tr>
    <tr><td class="paramname">clazz</td><td>the clazz/interface to test for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>BVM_TRUE</code> is the object is an instance of the class, <code>BVM_FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a id="ab671e44ab5730fd4d71de1779181048b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab671e44ab5730fd4d71de1779181048b">&#9670;&nbsp;</a></span>bvm_clazz_is_member_accessible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> bvm_clazz_is_member_accessible </td>
          <td>(</td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>access_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>from_clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>defining_clazz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check accessibility of a member of a clazz - JVMS 5.4.4 Access Control. Accessibility rules for fields and methods are the same. The access_flags are the access flags of the member in the defining class.</p>
<p>A field or method R is accessible to a class or interface D if and only if any of the following conditions is true:</p><ul>
<li>R is public.</li>
<li>R is protected and is declared in a class C, and D is either a subclass of C or C itself.</li>
<li>R is either protected or package private (that is, neither public nor protected nor private), and is declared by a class in the same runtime package as D.</li>
<li>R is private and is declared in D.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">access_flags</td><td>the to-be-accessed member access flags </td></tr>
    <tr><td class="paramname">from_clazz</td><td>the clazz trying to access the member </td></tr>
    <tr><td class="paramname">defining_clazz</td><td>the clazz where the member is defined</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>BVM_TRUE</code> if the member is accessible, <code>BVM_FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a id="a54702ead577340081ef3b00c59a4d66c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54702ead577340081ef3b00c59a4d66c">&#9670;&nbsp;</a></span>bvm_clazz_is_subclass_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a> bvm_clazz_is_subclass_of </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>sub_clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>super_clazz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reports whether one class if the subclass of another. This does not test for interfaces, only the superclass parentage. If the given sub_clazz and super_clazz are actually the same, this function will return BVM_TRUE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_clazz</td><td>the potential subclass to test </td></tr>
    <tr><td class="paramname">super_clazz</td><td>the potential superclass to test</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>BVM_TRUE</code> is <code>sub_clazz</code> is a subclass of <code>super_clazz</code>, <code>BVM_FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a id="a93d338bdb7a9d20f9a47909d37d8491e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d338bdb7a9d20f9a47909d37d8491e">&#9670;&nbsp;</a></span>bvm_clazz_method_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clazz_8h.html#a916cdf2e87116c9383de885eaf0cb3ac">bvm_method_t</a>* bvm_clazz_method_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>jni_signature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a method for a class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the clazz to start the search in </td></tr>
    <tr><td class="paramname">name</td><td>the name of the method to find </td></tr>
    <tr><td class="paramname">jni_signature</td><td>the method signature to match it on </td></tr>
    <tr><td class="paramname">mode</td><td>the search mode. The search modes can be and'd together to form a combined search. <a class="el" href="clazz_8h.html#a4f026462cae4511608ed5f6b27b482c2">BVM_METHOD_SEARCH_CLAZZ</a> will include the given clazz. <a class="el" href="clazz_8h.html#af18661efde5c8b69b4f4fcd80f50c598">BVM_METHOD_SEARCH_SUPERS</a> will include the superclasses of the given clazz. <a class="el" href="clazz_8h.html#ae9724225193869c075291372a3da0076">BVM_METHOD_SEARCH_INTERFACES</a> will include all interfaces in the search.</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: This method does not match on the <em>value</em> of the utfstrings passed as name/desc, but on their memory addresses. It is assumed that the bvm_utfstring_t* for name/desc are pointers into the utfstring pool (an equality operation is a lot faster than searching string all the time!).</p>
<p>In the VM code you'll see examples like:</p>
<pre class="fragment">  my_method = get_method(BVM_SYSTEM_CLAZZ, bvm_utfstring_pool_get_c(",mymethod", BVM_TRUE),
                                        bvm_utfstring_pool_get_c("()V", BVM_TRUE),
                                        BVM_METHOD_SEARCH_CLAZZ);
</pre><p>Note the usage of <a class="el" href="pool__utfstring_8h.html#a036bfe52b5330177157987ce31041964">bvm_utfstring_pool_get_c</a>. It serves to both add the "mymethod" constant to the pool as a utfstring and to get a pointer that pool entry to pass to this get_method function.</p>
<p>This is not a very smart search - it may have to motor its way through a fair few string comparisons to get to the require method. However, this generally happens for method resolution, and that is only performed once for each method. After having been found, the method pointer is stored in the constant pool entry anyways.</p>
<dl class="section return"><dt>Returns</dt><dd>bvm_method_t* if found or <code>NULL</code> if not. </dd></dl>

</div>
</div>
<a id="afe17ea105e95ace4d962086dcdc5262c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe17ea105e95ace4d962086dcdc5262c">&#9670;&nbsp;</a></span>bvm_clazz_resolve_cp_clazz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a>* bvm_clazz_resolve_cp_clazz </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a clazz and an index into the constant pool of that clazz (which must point to a class info structure) get and return the given clazz.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the clazz to search </td></tr>
    <tr><td class="paramname">index</td><td>the constant pool index of the class info</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a <a class="el" href="clazz_8h.html#aad944a281f999674be45ed9044896991">bvm_clazz_t</a> structure for the request clazz. </dd></dl>

</div>
</div>
<a id="aa6ba47aadb1cc5e2bcabbd7c24e4f6aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6ba47aadb1cc5e2bcabbd7c24e4f6aa">&#9670;&nbsp;</a></span>bvm_clazz_resolve_cp_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clazz_8h.html#a1093dc79e1f7673de5ddbbc8783da670">bvm_field_t</a>* bvm_clazz_resolve_cp_field </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bvm_8h.html#a2284c1e362982e74ed5657631f5ae83c">bvm_bool_t</a>&#160;</td>
          <td class="paramname"><em>is_static</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a clazz desc and an index to a constant pool field info get the field definition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the instace class to search </td></tr>
    <tr><td class="paramname">index</td><td>the constant pool index of the field </td></tr>
    <tr><td class="paramname">is_static</td><td>is the field we are looking for static.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a <a class="el" href="clazz_8h.html#a1093dc79e1f7673de5ddbbc8783da670">bvm_field_t</a> for the requested field. </dd></dl>

</div>
</div>
<a id="aa9a31a391af47be4856d54bf02106c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9a31a391af47be4856d54bf02106c7e">&#9670;&nbsp;</a></span>bvm_clazz_resolve_cp_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clazz_8h.html#a916cdf2e87116c9383de885eaf0cb3ac">bvm_method_t</a>* bvm_clazz_resolve_cp_method </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clazz_8h.html#a063dade5078d595b91c1f697d4938568">bvm_instance_clazz_t</a> *&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint16_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a clazz and a constant pool index, get the method. If the method cannot be found a <a class="el" href="vm_8h.html#a3e862badb76b9e4b804544b97f013eef">BVM_ERR_NO_SUCH_METHOD_ERROR</a> will be thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazz</td><td>the clazz </td></tr>
    <tr><td class="paramname">index</td><td>the constant pool index of the method</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the <a class="el" href="clazz_8h.html#a916cdf2e87116c9383de885eaf0cb3ac">bvm_method_t</a> for the requested method </dd></dl>

</div>
</div>
<a id="ae0cb108353dc10114a625a5a5ec2da87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0cb108353dc10114a625a5a5ec2da87">&#9670;&nbsp;</a></span>clazz_get_package()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a>* clazz_get_package </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>clazzname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Extract the package name from a qualified class name. The algorithm is basic - search from the right of the qualified class name until the first '/' is encountered or the beginning of the name is reached. All that remains to the left (even if nothing) is the package name.</p>
<p>Then, check the UTF string pool for a matching value, if there is one, return a pointer to that utfstring.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazzname</td><td>the qualified name of the class to extract the package name from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a bvm_utfstring_t* package name, or <code>NULL</code> if the class has no package. </dd></dl>

</div>
</div>
<a id="a0df34767d8217a044700fc263c4c97c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0df34767d8217a044700fc263c4c97c6">&#9670;&nbsp;</a></span>clazz_load_primitive_clazz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clazz_8h.html#aa765136ee279c1ad311f44faec1a692e">bvm_primitive_clazz_t</a>* clazz_load_primitive_clazz </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td>
          <td class="paramname"><em>clazzname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a clazz structure for a primitive clazz given the class name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clazzname</td><td>the name of the clazz</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a <a class="el" href="clazz_8h.html#aa765136ee279c1ad311f44faec1a692e">bvm_primitive_clazz_t</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3b19ecf29356981f494745fbef7e56bf.html">c</a></li><li class="navelem"><a class="el" href="clazz_8c.html">clazz.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
