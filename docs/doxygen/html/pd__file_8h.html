<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Babe VM: src/h/pd/pd_file.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Babe VM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pd__file_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pd_file.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="pd__file_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8f59f83e72ebb8a7a43f8e9bccaa2d89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a8f59f83e72ebb8a7a43f8e9bccaa2d89">BVM_FILE_SEEK_SET</a>&#160;&#160;&#160;SEEK_SET</td></tr>
<tr class="separator:a8f59f83e72ebb8a7a43f8e9bccaa2d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6b08c4e34c978299fd4abc9d6fa347"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a6a6b08c4e34c978299fd4abc9d6fa347">BVM_FILE_SEEK_CUR</a>&#160;&#160;&#160;SEEK_CUR</td></tr>
<tr class="separator:a6a6b08c4e34c978299fd4abc9d6fa347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255af5efebd4df81137554422f29c1f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a255af5efebd4df81137554422f29c1f3">BVM_FILE_SEEK_END</a>&#160;&#160;&#160;SEEK_END</td></tr>
<tr class="separator:a255af5efebd4df81137554422f29c1f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf02f4bba23b59a22978e68b802d522"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#afbf02f4bba23b59a22978e68b802d522">BVM_FILE_O_RDONLY</a>&#160;&#160;&#160;0x0000</td></tr>
<tr class="separator:afbf02f4bba23b59a22978e68b802d522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a925bc7b1600351063d846049be605d64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a925bc7b1600351063d846049be605d64">BVM_FILE_O_WRONLY</a>&#160;&#160;&#160;0x0001</td></tr>
<tr class="separator:a925bc7b1600351063d846049be605d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef976d827fade21a2def78ed0115745"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a2ef976d827fade21a2def78ed0115745">BVM_FILE_O_RDWR</a>&#160;&#160;&#160;0x0002</td></tr>
<tr class="separator:a2ef976d827fade21a2def78ed0115745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a506eba3dd9cbed822cf14e599de689a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a506eba3dd9cbed822cf14e599de689a5">BVM_FILE_O_CREAT</a>&#160;&#160;&#160;0x0100</td></tr>
<tr class="separator:a506eba3dd9cbed822cf14e599de689a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb3f66ea6198308e2d964dba3ef4b68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a9eb3f66ea6198308e2d964dba3ef4b68">BVM_FILE_O_TRUNC</a>&#160;&#160;&#160;0x0200</td></tr>
<tr class="separator:a9eb3f66ea6198308e2d964dba3ef4b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7420648fc983ba99a2ff524c3302abd9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a7420648fc983ba99a2ff524c3302abd9">BVM_FILE_O_APPEND</a>&#160;&#160;&#160;0x0400</td></tr>
<tr class="separator:a7420648fc983ba99a2ff524c3302abd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae870ab177aa53b75a64ac17d8f117277"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#ae870ab177aa53b75a64ac17d8f117277">bvm_pd_file_open</a> (const char *filename, int flags)</td></tr>
<tr class="separator:ae870ab177aa53b75a64ac17d8f117277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e04b4e51d52ca67f81bbc4035732479"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a3e04b4e51d52ca67f81bbc4035732479">bvm_pd_file_close</a> (void *handle)</td></tr>
<tr class="separator:a3e04b4e51d52ca67f81bbc4035732479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b7adbe7b66790375da9c2c542e31b8"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#ab5b7adbe7b66790375da9c2c542e31b8">bvm_pd_file_read</a> (void *dst, size_t size, void *handle)</td></tr>
<tr class="separator:ab5b7adbe7b66790375da9c2c542e31b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d6694b99bb73143e9448f2d5fa578a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a95d6694b99bb73143e9448f2d5fa578a">bvm_pd_file_write</a> (const void *src, size_t size, void *handle)</td></tr>
<tr class="separator:a95d6694b99bb73143e9448f2d5fa578a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a506efeca422c18279accba18e92db2f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a506efeca422c18279accba18e92db2f0">bvm_pd_file_flush</a> (void *handle)</td></tr>
<tr class="separator:a506efeca422c18279accba18e92db2f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9e2eb8a57f3dadd123d85ef81a0697"><td class="memItemLeft" align="right" valign="top">bvm_int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#aac9e2eb8a57f3dadd123d85ef81a0697">bvm_pd_file_setpos</a> (void *handle, bvm_int32_t offset, bvm_uint32_t origin)</td></tr>
<tr class="separator:aac9e2eb8a57f3dadd123d85ef81a0697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c15162a1bd4455454184c54452d3ff"><td class="memItemLeft" align="right" valign="top">bvm_int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#ac6c15162a1bd4455454184c54452d3ff">bvm_pd_file_getpos</a> (void *handle)</td></tr>
<tr class="separator:ac6c15162a1bd4455454184c54452d3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700a3046753db541b103efc7ccca1f2d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a700a3046753db541b103efc7ccca1f2d">bvm_pd_file_sizeof</a> (void *handle)</td></tr>
<tr class="separator:a700a3046753db541b103efc7ccca1f2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcbf472b74c64903d87591c5daf1c673"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#afcbf472b74c64903d87591c5daf1c673">bvm_pd_file_rename</a> (const char *oldname, const char *newname)</td></tr>
<tr class="separator:afcbf472b74c64903d87591c5daf1c673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a603cba02fba4ece192e1c787169690d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a603cba02fba4ece192e1c787169690d3">bvm_pd_file_remove</a> (const char *filename)</td></tr>
<tr class="separator:a603cba02fba4ece192e1c787169690d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b3d227a7ae9bad94c5270b49b7a8e2"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#ab5b3d227a7ae9bad94c5270b49b7a8e2">bvm_pd_file_list_open</a> (const char *filename)</td></tr>
<tr class="separator:ab5b3d227a7ae9bad94c5270b49b7a8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0107b88b0497808461f1d6d33057b401"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a0107b88b0497808461f1d6d33057b401">bvm_pd_file_list_next</a> (void *handle)</td></tr>
<tr class="separator:a0107b88b0497808461f1d6d33057b401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b40d45185ede4282dee02a041079b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#af6b40d45185ede4282dee02a041079b6">bvm_pd_file_list_close</a> (void *handle)</td></tr>
<tr class="separator:af6b40d45185ede4282dee02a041079b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42bab67d28306526960f0aed77c0cd29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#a42bab67d28306526960f0aed77c0cd29">bvm_pd_file_truncate</a> (void *handle, size_t size)</td></tr>
<tr class="separator:a42bab67d28306526960f0aed77c0cd29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdacad7c8cc309a06cecf99c719cd5f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pd__file_8h.html#abdacad7c8cc309a06cecf99c719cd5f4">bvm_pd_file_exists</a> (const char *filename)</td></tr>
<tr class="separator:abdacad7c8cc309a06cecf99c719cd5f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Platform-dependent file handing functions and definitions.</p>
<h1><a class="anchor" id="ov"></a>
Overview</h1>
<p>The functions in the platform-dependent file handing defines a high(ish) level means to access file on a given platform. Some structures are opaque and have no meaning to the VM. They are simply held onto and passed pack when appropriate - eg, the file handle returned by <a class="el" href="pd__file_8h.html#ae870ab177aa53b75a64ac17d8f117277">bvm_pd_file_open()</a> is a <code>void*</code>.</p>
<p>Directories are assumed not to be supported by the platform. To this end, no directory access functions or structures are defined. The <a class="el" href="pd__file_8h.html#ab5b3d227a7ae9bad94c5270b49b7a8e2">bvm_pd_file_list_open()</a>, <a class="el" href="pd__file_8h.html#a0107b88b0497808461f1d6d33057b401">bvm_pd_file_list_next()</a>, and <a class="el" href="pd__file_8h.html#af6b40d45185ede4282dee02a041079b6">bvm_pd_file_list_close()</a> functions are intended to allow the VM to get a list all the files in its home dir. From there, it can make any decisions it wants about those files.</p>
<p>Implementation note: The functions here are a little like ANSI C, and a little like UNIX. The file open modes are UNIX and mappings have been provided in the docs into ANSI C file open modes.</p>
<dl class="section author"><dt>Author</dt><dd>Greg McCreath </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.10 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7420648fc983ba99a2ff524c3302abd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7420648fc983ba99a2ff524c3302abd9">&#9670;&nbsp;</a></span>BVM_FILE_O_APPEND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BVM_FILE_O_APPEND&#160;&#160;&#160;0x0400</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>for write open modes, create the file if it does not exist and set the file position to the end of the file. All write are at end of the file. </p>

</div>
</div>
<a id="a506eba3dd9cbed822cf14e599de689a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a506eba3dd9cbed822cf14e599de689a5">&#9670;&nbsp;</a></span>BVM_FILE_O_CREAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BVM_FILE_O_CREAT&#160;&#160;&#160;0x0100</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>for write open modes, create the file if it does not exist. If the file exists this flag has no effect. <br  />
 </p>

</div>
</div>
<a id="afbf02f4bba23b59a22978e68b802d522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbf02f4bba23b59a22978e68b802d522">&#9670;&nbsp;</a></span>BVM_FILE_O_RDONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BVM_FILE_O_RDONLY&#160;&#160;&#160;0x0000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For opening files in read only mode. CREAT/TRUNC/APPEND will be ignored. The file must exist. </p>

</div>
</div>
<a id="a2ef976d827fade21a2def78ed0115745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ef976d827fade21a2def78ed0115745">&#9670;&nbsp;</a></span>BVM_FILE_O_RDWR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BVM_FILE_O_RDWR&#160;&#160;&#160;0x0002</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For opening files in read write mode. If any of the CREAT/TRUNC/APPEND flags are specified the file will be created if it does not exist - otherwise the file must exist. </p>

</div>
</div>
<a id="a9eb3f66ea6198308e2d964dba3ef4b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb3f66ea6198308e2d964dba3ef4b68">&#9670;&nbsp;</a></span>BVM_FILE_O_TRUNC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BVM_FILE_O_TRUNC&#160;&#160;&#160;0x0200</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>for write open modes, create the file if it does not exist, or truncate an existing file on open and set file position to the beginning of the file </p>

</div>
</div>
<a id="a925bc7b1600351063d846049be605d64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a925bc7b1600351063d846049be605d64">&#9670;&nbsp;</a></span>BVM_FILE_O_WRONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BVM_FILE_O_WRONLY&#160;&#160;&#160;0x0001</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For opening files in write only mode. If any of the CREAT/TRUNC/APPEND flags are specified the file will be created if it does not exist - otherwise the file must exist. </p>

</div>
</div>
<a id="a6a6b08c4e34c978299fd4abc9d6fa347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a6b08c4e34c978299fd4abc9d6fa347">&#9670;&nbsp;</a></span>BVM_FILE_SEEK_CUR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BVM_FILE_SEEK_CUR&#160;&#160;&#160;SEEK_CUR</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The seek offset is set to its current location plus offset bytes. </p>

</div>
</div>
<a id="a255af5efebd4df81137554422f29c1f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255af5efebd4df81137554422f29c1f3">&#9670;&nbsp;</a></span>BVM_FILE_SEEK_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BVM_FILE_SEEK_END&#160;&#160;&#160;SEEK_END</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The offset is set to the size of the file plus offset bytes. </p>

</div>
</div>
<a id="a8f59f83e72ebb8a7a43f8e9bccaa2d89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f59f83e72ebb8a7a43f8e9bccaa2d89">&#9670;&nbsp;</a></span>BVM_FILE_SEEK_SET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BVM_FILE_SEEK_SET&#160;&#160;&#160;SEEK_SET</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The seek offset is set to the specified number of offset bytes. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3e04b4e51d52ca67f81bbc4035732479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e04b4e51d52ca67f81bbc4035732479">&#9670;&nbsp;</a></span>bvm_pd_file_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_pd_file_close </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the given file handle.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> if any errors occurred, and zero otherwise </dd></dl>

</div>
</div>
<a id="abdacad7c8cc309a06cecf99c719cd5f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdacad7c8cc309a06cecf99c719cd5f4">&#9670;&nbsp;</a></span>bvm_pd_file_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_pd_file_exists </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tests for existence of a file. Worth noting that some platforms may not support this natively and therefore will probably attempt a read-only file open to test for existence.</p>
<dl class="section return"><dt>Returns</dt><dd>1 if file exists and is a regular file (0 is also reserved if/when dirs are supported), <a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> in case of an error. </dd></dl>

</div>
</div>
<a id="a506efeca422c18279accba18e92db2f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a506efeca422c18279accba18e92db2f0">&#9670;&nbsp;</a></span>bvm_pd_file_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_pd_file_flush </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> if an error occurred. </dd></dl>

</div>
</div>
<a id="ac6c15162a1bd4455454184c54452d3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6c15162a1bd4455454184c54452d3ff">&#9670;&nbsp;</a></span>bvm_pd_file_getpos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_int32_t bvm_pd_file_getpos </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>position within file, <a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> on error </dd></dl>

</div>
</div>
<a id="af6b40d45185ede4282dee02a041079b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6b40d45185ede4282dee02a041079b6">&#9670;&nbsp;</a></span>bvm_pd_file_list_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_pd_file_list_close </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Not yet supported.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> if an error occurred </dd></dl>

</div>
</div>
<a id="a0107b88b0497808461f1d6d33057b401"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0107b88b0497808461f1d6d33057b401">&#9670;&nbsp;</a></span>bvm_pd_file_list_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* bvm_pd_file_list_next </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Not yet supported.</p>
<dl class="section return"><dt>Returns</dt><dd>an char handle to the name of a file. The caller is responsible for freeing the handle when unused. </dd></dl>

</div>
</div>
<a id="ab5b3d227a7ae9bad94c5270b49b7a8e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b3d227a7ae9bad94c5270b49b7a8e2">&#9670;&nbsp;</a></span>bvm_pd_file_list_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* bvm_pd_file_list_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Not yet supported.</p>
<dl class="section return"><dt>Returns</dt><dd>an opaque handle to the file list. Meaningless to the VM. </dd></dl>

</div>
</div>
<a id="ae870ab177aa53b75a64ac17d8f117277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae870ab177aa53b75a64ac17d8f117277">&#9670;&nbsp;</a></span>bvm_pd_file_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* bvm_pd_file_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>flags:</p>
<p>The file open flags specify how the platform is to open the file. There are two sorts of flags: BVM_FILE_O_RDONLY, BVM_FILE_O_WRONLY and BVM_FILE_O_RDWR determine the read write mode of the file. The BVM_FILE_O_CREAT, BVM_FILE_O_TRUNC and BVM_FILE_O_APPEND determine where the file position if set to on open. In ansi C file open mode equivalents it goes like this:</p>
<p>BVM_FILE_O_RDONLY is "rb".</p>
<p>BVM_FILE_O_WRONLY default is "ab". BVM_FILE_O_RDWR | BVM_FILE_O_CREAT is "ab" (default) BVM_FILE_O_RDWR | BVM_FILE_O_TRUNC is "wb" BVM_FILE_O_RDWR | BVM_FILE_O_APPEND is "ab" (default)</p>
<p>BVM_FILE_O_RDWR default is "r+b". BVM_FILE_O_RDWR | BVM_FILE_O_CREAT is "a+b" BVM_FILE_O_RDWR | BVM_FILE_O_TRUNC is "w+b" BVM_FILE_O_RDWR | BVM_FILE_O_APPEND is "a+b"</p>
<p>Open a resource. Return an opaque handle to a platform file or NULL if the file could not be opened.</p>
<p>For those platforms that require a 'home' folder for the VM to operate from, a global null-terminated char[] called <a class="el" href="vm_8h.html#a43a816e1c71debf3e756e54fa1c15897">bvm_gl_home_path</a> can be set from the command line (or by any other programmatic means). Platform implementors will need to append the given filename arg to the home path to get the real file name. The VM makes no assumption about home paths and simply passes a file open request to md file handling. </p>

</div>
</div>
<a id="ab5b7adbe7b66790375da9c2c542e31b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b7adbe7b66790375da9c2c542e31b8">&#9670;&nbsp;</a></span>bvm_pd_file_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bvm_pd_file_read </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the number of bytes read; this may be less than the number requested. negative if error. zero if EOF was reached by previous read. <a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> if error. </dd></dl>

</div>
</div>
<a id="a603cba02fba4ece192e1c787169690d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a603cba02fba4ece192e1c787169690d3">&#9670;&nbsp;</a></span>bvm_pd_file_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_pd_file_remove </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> if an error occurred </dd></dl>

</div>
</div>
<a id="afcbf472b74c64903d87591c5daf1c673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcbf472b74c64903d87591c5daf1c673">&#9670;&nbsp;</a></span>bvm_pd_file_rename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_pd_file_rename </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>oldname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>newname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> if an error occurred </dd></dl>

</div>
</div>
<a id="aac9e2eb8a57f3dadd123d85ef81a0697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac9e2eb8a57f3dadd123d85ef81a0697">&#9670;&nbsp;</a></span>bvm_pd_file_setpos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_int32_t bvm_pd_file_setpos </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_int32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint32_t&#160;</td>
          <td class="paramname"><em>origin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>new file position or <a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> if an error occurred. </dd></dl>

</div>
</div>
<a id="a700a3046753db541b103efc7ccca1f2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a700a3046753db541b103efc7ccca1f2d">&#9670;&nbsp;</a></span>bvm_pd_file_sizeof()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bvm_pd_file_sizeof </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provide the size of an open file. File position must be preserved on function exit.</p>
<dl class="section return"><dt>Returns</dt><dd>the size of the given file, or <a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> if an error occurs </dd></dl>

</div>
</div>
<a id="a42bab67d28306526960f0aed77c0cd29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42bab67d28306526960f0aed77c0cd29">&#9670;&nbsp;</a></span>bvm_pd_file_truncate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_pd_file_truncate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> if an error occurred </dd></dl>

</div>
</div>
<a id="a95d6694b99bb73143e9448f2d5fa578a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d6694b99bb73143e9448f2d5fa578a">&#9670;&nbsp;</a></span>bvm_pd_file_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bvm_pd_file_write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the number of bytes written, which is less than count if issues. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_91e09e7569ccd19553b6fd3d442a4b1c.html">h</a></li><li class="navelem"><a class="el" href="dir_93d12c2094a03802097eaf0f7c5675c2.html">pd</a></li><li class="navelem"><a class="el" href="pd__file_8h.html">pd_file.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
