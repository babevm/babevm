<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Babe VM: src/c/file.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Babe VM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('file_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">file.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="bvm_8h_source.html">../h/bvm.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__filehandlestruct.html">_filehandlestruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a8e68d99adc548e8f6ae03d0732186d3f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__filehandlestruct.html">_filehandlestruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a8e68d99adc548e8f6ae03d0732186d3f">filehandle_t</a></td></tr>
<tr class="separator:a8e68d99adc548e8f6ae03d0732186d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac3976027b8614f678c464abfa01bbce9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ac3976027b8614f678c464abfa01bbce9">bvm_init_io</a> ()</td></tr>
<tr class="separator:ac3976027b8614f678c464abfa01bbce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36a9cde3e8d8099429b10e155bb267cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a36a9cde3e8d8099429b10e155bb267cf">bvm_file_finalise</a> ()</td></tr>
<tr class="separator:a36a9cde3e8d8099429b10e155bb267cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916c34358f7d4d2990192109e357e391"><td class="memItemLeft" align="right" valign="top"><a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a916c34358f7d4d2990192109e357e391">bvm_file_open</a> (<a class="el" href="file_8h.html#a84ae7633ceb9b5a9cf16bcd6f99d4137">bvm_filetypeintf_t</a> *type, const char *filename, int flags)</td></tr>
<tr class="separator:a916c34358f7d4d2990192109e357e391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c3e8cd7bbc8de0cfcaa1209aed32b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ab8c3e8cd7bbc8de0cfcaa1209aed32b1">bvm_file_close</a> (<a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a> file)</td></tr>
<tr class="separator:ab8c3e8cd7bbc8de0cfcaa1209aed32b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad00ca7ee5e47d19abbd41b5bbdfb69"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a7ad00ca7ee5e47d19abbd41b5bbdfb69">bvm_file_read</a> (void *dst, size_t size, <a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a> file)</td></tr>
<tr class="separator:a7ad00ca7ee5e47d19abbd41b5bbdfb69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74658528d165268b829c4204826aa0ec"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a74658528d165268b829c4204826aa0ec">bvm_file_write</a> (const void *src, size_t size, <a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a> file)</td></tr>
<tr class="separator:a74658528d165268b829c4204826aa0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fffe98c36b1dace418d0e0b6dfd14f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a12fffe98c36b1dace418d0e0b6dfd14f">bvm_file_flush</a> (<a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a> file)</td></tr>
<tr class="separator:a12fffe98c36b1dace418d0e0b6dfd14f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447a99cbd1f5b5d4deaa394c7a530dbb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a447a99cbd1f5b5d4deaa394c7a530dbb">bvm_file_setpos</a> (<a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a> file, bvm_int32_t offset, bvm_uint32_t origin)</td></tr>
<tr class="separator:a447a99cbd1f5b5d4deaa394c7a530dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c575a8b9c0662302af47efb2a493b8a"><td class="memItemLeft" align="right" valign="top">bvm_int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a6c575a8b9c0662302af47efb2a493b8a">bvm_file_getpos</a> (<a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a> file)</td></tr>
<tr class="separator:a6c575a8b9c0662302af47efb2a493b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24fc4a701a3c206c785c3ecb96e0961"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aa24fc4a701a3c206c785c3ecb96e0961">bvm_file_sizeof</a> (<a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a> file)</td></tr>
<tr class="separator:aa24fc4a701a3c206c785c3ecb96e0961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21601d8fbd57db6c75d330cd9451d701"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a21601d8fbd57db6c75d330cd9451d701">bvm_file_rename</a> (const char *oldname, const char *newname)</td></tr>
<tr class="separator:a21601d8fbd57db6c75d330cd9451d701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69fd53104818879fd9517eaf4c9ee468"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a69fd53104818879fd9517eaf4c9ee468">bvm_file_remove</a> (const char *filename)</td></tr>
<tr class="separator:a69fd53104818879fd9517eaf4c9ee468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d896c29c2fe1996050936f84b34aae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ac1d896c29c2fe1996050936f84b34aae">bvm_file_truncate</a> (<a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a> file, size_t size)</td></tr>
<tr class="separator:ac1d896c29c2fe1996050936f84b34aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907863aa633089597f50190942c70f6e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a907863aa633089597f50190942c70f6e">bvm_file_exists</a> (const char *filename)</td></tr>
<tr class="separator:a907863aa633089597f50190942c70f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b9715790fa8fdb7c78fe8b1b1a3fd96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a9b9715790fa8fdb7c78fe8b1b1a3fd96">bvm_buffer_file_from_platform</a> (char *filename)</td></tr>
<tr class="separator:a9b9715790fa8fdb7c78fe8b1b1a3fd96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf3a735eb161328fff5f198a2fe8ac1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aaf3a735eb161328fff5f198a2fe8ac1d">bvm_create_buffer</a> (size_t size, int alloc_type)</td></tr>
<tr class="separator:aaf3a735eb161328fff5f198a2fe8ac1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb06cda52fbbbcb8fc50527e62af497"><td class="memItemLeft" align="right" valign="top">bvm_uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#afcb06cda52fbbbcb8fc50527e62af497">bvm_file_read_uint16</a> (<a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *buffer)</td></tr>
<tr class="separator:afcb06cda52fbbbcb8fc50527e62af497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78254b38251636b55329c1b30279ffbd"><td class="memItemLeft" align="right" valign="top">bvm_int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a78254b38251636b55329c1b30279ffbd">bvm_file_read_int32</a> (<a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *buffer)</td></tr>
<tr class="separator:a78254b38251636b55329c1b30279ffbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2bee79a4c22e843a5f64aa2b20635a4"><td class="memItemLeft" align="right" valign="top">bvm_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ae2bee79a4c22e843a5f64aa2b20635a4">bvm_file_read_uint32</a> (<a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *buffer)</td></tr>
<tr class="separator:ae2bee79a4c22e843a5f64aa2b20635a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420e5c6ff01cb2aef62bb96b78f1e5a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a420e5c6ff01cb2aef62bb96b78f1e5a1">bvm_file_skip_bytes</a> (<a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *buffer, size_t count)</td></tr>
<tr class="separator:a420e5c6ff01cb2aef62bb96b78f1e5a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f5414b288e8d19a03be65437dc3707d"><td class="memItemLeft" align="right" valign="top">bvm_uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a1f5414b288e8d19a03be65437dc3707d">bvm_file_read_bytes</a> (<a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *buffer, size_t size, int alloc_type)</td></tr>
<tr class="separator:a1f5414b288e8d19a03be65437dc3707d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e24a5d3e86ce4744c5d2838de8e06f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a66e24a5d3e86ce4744c5d2838de8e06f">bvm_file_read_bytes_into</a> (<a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *buffer, size_t size, void *dest)</td></tr>
<tr class="separator:a66e24a5d3e86ce4744c5d2838de8e06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b344d4c92b10962a9dda1191d231e17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a4b344d4c92b10962a9dda1191d231e17">bvm_file_read_utfstring</a> (<a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *buffer, int alloc_type)</td></tr>
<tr class="separator:a4b344d4c92b10962a9dda1191d231e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9eb963fab2baa068fca9ae5a8d48d850"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a9eb963fab2baa068fca9ae5a8d48d850">bvm_gl_max_file_handles</a> = <a class="el" href="define_8h.html#ac3c9ad6a5a10ade8f0b56eeed861d459">BVM_MAX_FILE_HANDLES</a></td></tr>
<tr class="separator:a9eb963fab2baa068fca9ae5a8d48d850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e6ccde3701ff1aeaef2486b4ec15c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="file_8c.html#a8e68d99adc548e8f6ae03d0732186d3f">filehandle_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ab6e6ccde3701ff1aeaef2486b4ec15c1">filehandles</a> = NULL</td></tr>
<tr class="separator:ab6e6ccde3701ff1aeaef2486b4ec15c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab07736a2351b64ad6adf061cec91b312"><td class="memItemLeft" align="right" valign="top"><a class="el" href="file_8h.html#a84ae7633ceb9b5a9cf16bcd6f99d4137">bvm_filetypeintf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ab07736a2351b64ad6adf061cec91b312">bvm_gl_filetype_md</a> = NULL</td></tr>
<tr class="separator:ab07736a2351b64ad6adf061cec91b312"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>VM File handing functions</p>
<h1><a class="anchor" id="ov"></a>
Overview</h1>
<p>Provides a common layer for the VM and native functions to access the file system. The VM does not use the md_file_* functions directly - it uses this thin layer on top of them.</p>
<p>Yes, it seems almost superfluous but there is a key driving factor - some md_file calls need modifying before the actual calls - mainly to do with using the 'home' directory when opening files. Opening file paths can be made relative to a 'home' path by using the <code>-home</code> command line argument.</p>
<p>The design is simple and underneath uses an array of <a class="el" href="file_8c.html#a8e68d99adc548e8f6ae03d0732186d3f">filehandle_t</a> to store info about each open file. Each open file has a file type.</p>
<p>The file type (<a class="el" href="file_8h.html#a84ae7633ceb9b5a9cf16bcd6f99d4137">bvm_filetypeintf_t</a>) is a C interface (using function pointers) that has the IO functions for a given file type. This is like a small impl of the UNIX way of handling files. At this point, only the md_file type has been implemented, but the structures are there to allow other types as well (eg, reading from a zip file but without buffering it all in memory first.</p>
<p>So, the file type functions provide a consistent layer for the VM regardless of the type of file it is dealing with.</p>
<p>Additionally, this layer serves to abstract machine dependant 'file handles' to a simple integer that can be stored on a Java class - this layer makes OS file handles opaque and maintains a mapping between a given file handle int, and the underlying handle used by the OS.</p>
<p>The size of the underlying file handles array is <a class="el" href="file_8c.html#a9eb963fab2baa068fca9ae5a8d48d850">bvm_gl_max_file_handles</a>. This number is defaulted to <a class="el" href="define_8h.html#ac3c9ad6a5a10ade8f0b56eeed861d459">BVM_MAX_FILE_HANDLES</a> if not set on the command line.</p>
<dl class="section author"><dt>Author</dt><dd>Greg McCreath </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.10 </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a8e68d99adc548e8f6ae03d0732186d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e68d99adc548e8f6ae03d0732186d3f">&#9670;&nbsp;</a></span>filehandle_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__filehandlestruct.html">_filehandlestruct</a> <a class="el" href="file_8c.html#a8e68d99adc548e8f6ae03d0732186d3f">filehandle_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9b9715790fa8fdb7c78fe8b1b1a3fd96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b9715790fa8fdb7c78fe8b1b1a3fd96">&#9670;&nbsp;</a></span>bvm_buffer_file_from_platform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a>* bvm_buffer_file_from_platform </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load a file of the given name completely into memory and returns a initialised <a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> that contains the file. Will return <code>NULL</code> if any problems. </p>

</div>
</div>
<a id="aaf3a735eb161328fff5f198a2fe8ac1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf3a735eb161328fff5f198a2fe8ac1d">&#9670;&nbsp;</a></span>bvm_create_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a>* bvm_create_buffer </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>alloc_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a buffer of a given size from the heap. The data is not zeroed. </p>

</div>
</div>
<a id="ab8c3e8cd7bbc8de0cfcaa1209aed32b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c3e8cd7bbc8de0cfcaa1209aed32b1">&#9670;&nbsp;</a></span>bvm_file_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_file_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a>&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close an open file.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#a3e04b4e51d52ca67f81bbc4035732479">bvm_pd_file_close()</a>. </dd></dl>

</div>
</div>
<a id="a907863aa633089597f50190942c70f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a907863aa633089597f50190942c70f6e">&#9670;&nbsp;</a></span>bvm_file_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_file_exists </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine is a file exists.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#abdacad7c8cc309a06cecf99c719cd5f4">bvm_pd_file_exists()</a>. </dd></dl>

</div>
</div>
<a id="a36a9cde3e8d8099429b10e155bb267cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36a9cde3e8d8099429b10e155bb267cf">&#9670;&nbsp;</a></span>bvm_file_finalise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bvm_file_finalise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalise the file system. Close all open files. Releases the file handles array back to the heap. </p>

</div>
</div>
<a id="a12fffe98c36b1dace418d0e0b6dfd14f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12fffe98c36b1dace418d0e0b6dfd14f">&#9670;&nbsp;</a></span>bvm_file_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_file_flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a>&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commit outstanding writes.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#a506efeca422c18279accba18e92db2f0">bvm_pd_file_flush()</a>. </dd></dl>

</div>
</div>
<a id="a6c575a8b9c0662302af47efb2a493b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c575a8b9c0662302af47efb2a493b8a">&#9670;&nbsp;</a></span>bvm_file_getpos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_int32_t bvm_file_getpos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a>&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the file position.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#ac6c15162a1bd4455454184c54452d3ff">bvm_pd_file_getpos()</a>. </dd></dl>

</div>
</div>
<a id="a916c34358f7d4d2990192109e357e391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a916c34358f7d4d2990192109e357e391">&#9670;&nbsp;</a></span>bvm_file_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a> bvm_file_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#a84ae7633ceb9b5a9cf16bcd6f99d4137">bvm_filetypeintf_t</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens the file of the given name using the given flags. The flags are described in #md_file.h.</p>
<dl class="section return"><dt>Returns</dt><dd>a non-zero file handle to the file, or <a class="el" href="bvm_8h.html#af4e8c353d01fbc498b44368961b8a873">BVM_ERR</a> if unsuccessful. </dd></dl>

</div>
</div>
<a id="a7ad00ca7ee5e47d19abbd41b5bbdfb69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad00ca7ee5e47d19abbd41b5bbdfb69">&#9670;&nbsp;</a></span>bvm_file_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bvm_file_read </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a>&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read from a file.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#ab5b7adbe7b66790375da9c2c542e31b8">bvm_pd_file_read()</a>. </dd></dl>

</div>
</div>
<a id="a1f5414b288e8d19a03be65437dc3707d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f5414b288e8d19a03be65437dc3707d">&#9670;&nbsp;</a></span>bvm_file_read_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_uint8_t* bvm_file_read_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>alloc_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a <a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> for 'size' bytes and return a pointer to new heap allocated memory that holds those just-read bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer to read </td></tr>
    <tr><td class="paramname">size</td><td>the number of bytes to read </td></tr>
    <tr><td class="paramname">alloc_type</td><td>the type of memory to ask the allocator to allocate for these newly-read bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a #bvm_uint8_t pointer to the read bytes. </dd></dl>

</div>
</div>
<a id="a66e24a5d3e86ce4744c5d2838de8e06f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e24a5d3e86ce4744c5d2838de8e06f">&#9670;&nbsp;</a></span>bvm_file_read_bytes_into()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bvm_file_read_bytes_into </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a <a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> for 'size' bytes into existing memory. The given destination memory must be able to hold the number of requested bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer to read </td></tr>
    <tr><td class="paramname">size</td><td>the number of bytes to read </td></tr>
    <tr><td class="paramname">dest</td><td>a destination to write the bytes to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a78254b38251636b55329c1b30279ffbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78254b38251636b55329c1b30279ffbd">&#9670;&nbsp;</a></span>bvm_file_read_int32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_int32_t bvm_file_read_int32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read an endian-safe signed 32bit integer from a <a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an bvm_int32_t of the read bytes. </dd></dl>

</div>
</div>
<a id="afcb06cda52fbbbcb8fc50527e62af497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcb06cda52fbbbcb8fc50527e62af497">&#9670;&nbsp;</a></span>bvm_file_read_uint16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_uint16_t bvm_file_read_uint16 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read an endian-safe unsigned 16bit integer from a <a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an bvm_uint16_t of the read bytes. </dd></dl>

</div>
</div>
<a id="ae2bee79a4c22e843a5f64aa2b20635a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2bee79a4c22e843a5f64aa2b20635a4">&#9670;&nbsp;</a></span>bvm_file_read_uint32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bvm_uint32_t bvm_file_read_uint32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read an endian-safe unsigned 32bit integer from a <a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a bvm_uint32_t of the read bytes. </dd></dl>

</div>
</div>
<a id="a4b344d4c92b10962a9dda1191d231e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b344d4c92b10962a9dda1191d231e17">&#9670;&nbsp;</a></span>bvm_file_read_utfstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a>* bvm_file_read_utfstring </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>alloc_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> from a <a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a>. The returned utfstring and its data may be newly allocated (as STATIC) from the heap. All read utfstrings are added to the utfstring pool if they are not already in it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer to read </td></tr>
    <tr><td class="paramname">alloc_type</td><td>the GC allocation type of the memory allocated for the string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new <a class="el" href="utfstring_8h.html#a4d8493fbfe0e3b8a102934805f6208f8">bvm_utfstring_t</a> </dd></dl>

</div>
</div>
<a id="a69fd53104818879fd9517eaf4c9ee468"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69fd53104818879fd9517eaf4c9ee468">&#9670;&nbsp;</a></span>bvm_file_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_file_remove </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a file.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#a603cba02fba4ece192e1c787169690d3">bvm_pd_file_remove()</a>. </dd></dl>

</div>
</div>
<a id="a21601d8fbd57db6c75d330cd9451d701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21601d8fbd57db6c75d330cd9451d701">&#9670;&nbsp;</a></span>bvm_file_rename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_file_rename </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>oldname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>newname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rename an file.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#afcbf472b74c64903d87591c5daf1c673">bvm_pd_file_rename()</a>. </dd></dl>

</div>
</div>
<a id="a447a99cbd1f5b5d4deaa394c7a530dbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a447a99cbd1f5b5d4deaa394c7a530dbb">&#9670;&nbsp;</a></span>bvm_file_setpos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_file_setpos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_int32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bvm_uint32_t&#160;</td>
          <td class="paramname"><em>origin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the file position.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#aac9e2eb8a57f3dadd123d85ef81a0697">bvm_pd_file_setpos()</a>. </dd></dl>

</div>
</div>
<a id="aa24fc4a701a3c206c785c3ecb96e0961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa24fc4a701a3c206c785c3ecb96e0961">&#9670;&nbsp;</a></span>bvm_file_sizeof()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bvm_file_sizeof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a>&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the size of an open file.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#a700a3046753db541b103efc7ccca1f2d">bvm_pd_file_sizeof()</a>. </dd></dl>

</div>
</div>
<a id="a420e5c6ff01cb2aef62bb96b78f1e5a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420e5c6ff01cb2aef62bb96b78f1e5a1">&#9670;&nbsp;</a></span>bvm_file_skip_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bvm_file_skip_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a <a class="el" href="file_8h.html#aea1aa8198cdc8d0fa40a3e046c21b555">bvm_filebuffer_t</a> for 'count' bytes and ignore them.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer to read </td></tr>
    <tr><td class="paramname">count</td><td>the number of bytes to skip </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac1d896c29c2fe1996050936f84b34aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1d896c29c2fe1996050936f84b34aae">&#9670;&nbsp;</a></span>bvm_file_truncate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_file_truncate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Truncate an open file.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#a42bab67d28306526960f0aed77c0cd29">bvm_pd_file_truncate()</a>. </dd></dl>

</div>
</div>
<a id="a74658528d165268b829c4204826aa0ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74658528d165268b829c4204826aa0ec">&#9670;&nbsp;</a></span>bvm_file_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bvm_file_write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="file_8h.html#add0fd425a414cfd0cad0c12b61a6a804">BVM_FILE</a>&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write to a file.</p>
<dl class="section return"><dt>Returns</dt><dd>same return codes as <a class="el" href="pd__file_8h.html#a95d6694b99bb73143e9448f2d5fa578a">bvm_pd_file_write()</a>. </dd></dl>

</div>
</div>
<a id="ac3976027b8614f678c464abfa01bbce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3976027b8614f678c464abfa01bbce9">&#9670;&nbsp;</a></span>bvm_init_io()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bvm_init_io </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise the VM file handling. Creates the storage for files from the heap. Note that size of the file handles array is not determined at compile time - it is determined from the <a class="el" href="file_8c.html#a9eb963fab2baa068fca9ae5a8d48d850">bvm_gl_max_file_handles</a> global variable (which is defaulted from <a class="el" href="define_8h.html#ac3c9ad6a5a10ade8f0b56eeed861d459">BVM_MAX_FILE_HANDLES</a>). </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab07736a2351b64ad6adf061cec91b312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab07736a2351b64ad6adf061cec91b312">&#9670;&nbsp;</a></span>bvm_gl_filetype_md</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="file_8h.html#a84ae7633ceb9b5a9cf16bcd6f99d4137">bvm_filetypeintf_t</a>* bvm_gl_filetype_md = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer to file type definition for md files </p>

</div>
</div>
<a id="a9eb963fab2baa068fca9ae5a8d48d850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb963fab2baa068fca9ae5a8d48d850">&#9670;&nbsp;</a></span>bvm_gl_max_file_handles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvm_gl_max_file_handles = <a class="el" href="define_8h.html#ac3c9ad6a5a10ade8f0b56eeed861d459">BVM_MAX_FILE_HANDLES</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The default number of file handles. </p>

</div>
</div>
<a id="ab6e6ccde3701ff1aeaef2486b4ec15c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6e6ccde3701ff1aeaef2486b4ec15c1">&#9670;&nbsp;</a></span>filehandles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="file_8c.html#a8e68d99adc548e8f6ae03d0732186d3f">filehandle_t</a>* filehandles = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer to an array of file handles </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3b19ecf29356981f494745fbef7e56bf.html">c</a></li><li class="navelem"><a class="el" href="file_8c.html">file.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
